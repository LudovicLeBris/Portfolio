---
import { Image } from "astro:assets"
import ProjectsLayout from "src/layouts/ProjectsLayout.astro"

import { getEntry } from "astro:content"
import NewWindowIcon from "@components/ui/NewWindowIcon.astro"
const googlereviewsProject = await getEntry('projects', 'googlereviews')

---

<ProjectsLayout title="APD Calculator">
<section class="flex flex-col items-center gap-4 p-8 dark:text-white">
    <h1 class="text-5xl md:text-6xl font-bold text-center py-1">Google reviews</h1>
    <div class="sm:size-2/3 lg:size-1/2">
        <!-- Image du projet -->
        <Image
            src={googlereviewsProject.data.image}
            alt={"A web application window"}
            class={'rounded-lg'}
        />
    </div>
    <div >
        <ul class="flex gap-2 bg-primary-dark dark:bg-primary-light w-fit px-6 py-1 rounded">
            {
                googlereviewsProject.data.tags.map((tag) => (
                    <li class="bg-primary-light dark:bg-primary-dark px-2 text-white rounded">#{tag}</li>
                ))
            }

    </div>
    <div class="sm:w-2/3 lg:w-1/2">
        <h2 class="text-lg font-bold border-b mb-2">Description</h2>
        <p>{googlereviewsProject.data.description}</p>
    </div>
    <div class="w-full sm:w-2/3 lg:w-1/2">
        <h2 class="text-lg font-bold border-b mb-2">Liens du projet</h2>
        <p><a href="https://github.com/LudovicLeBris/GoogleReviewsBackend" target="_blank">D√©pot Github backend</a> <NewWindowIcon /></p>
        <p><a href="https://github.com/LudovicLeBris/GoogleReviewsFrontend" target="_blank">D√©pot Github frontend</a> <NewWindowIcon /></p>
    </div>
    <div class="sm:w-2/3 lg:w-1/2">
        <h2 class="text-lg font-bold border-b mb-2">D√©tail du projet</h2>
        <p>Petit projet partant pour un besoin pr√©cis de r√©cup√©ration d'avis Google pour une int√©gration sur un site nocode (Jimdo)</p>
        <p>En faisant mes recherches d'un outil existant pour int√©grer des avis Google sur un site, je suis tomb√© sur un tas de plateformes proposant ce service. Ce que je voulais faire c'√©tait une petite int√©gration pour le site d'un ami qui n'avait pas les moyens de se payer un abonnement pour si peu.</p>
        <p>J'ai donc cherch√© des codes sources sur Github. J'en ai trouv√©. Ca m'a mis sur la piste de la bonne API (Google Place API). J'ai d√©cortiqu√© la doc et je me suis mis en t√™te de reproduire le m√™me r√©sultat √† moindre frais.</p>
        <br>
        <p>Le projet est donc compos√© d'un backend, qui r√©cup√®re et stock les donn√©es de l'API et d'un frontend qui affiche et r√©cup√®re les donn√©es du backend.</p>
        <p>Mais pourquoi ce syst√®me de backend ? Pourquoi ne pas r√©cup√©rer les donn√©es directement de l'API Google depuis le frontend ?</p>
        <p>Il y a 2 raisons :</p>
        <ul class="list-disc list-inside indent-4">
            <li>Pour r√©cup√©rer les donn√©es, il aurait fallu exposer en clair la cl√© d'API Google li√© au compte.</li>
            <li>A chaque requ√®te sur le site, on fait une requ√®te √† l'API. Et ces requ√®tes sont plut√¥t on√©reuses √† la longue üíµ.</li>
        </ul>
        <p>Donc le backend permet de :</p>
        <ul class="list-disc list-inside indent-4">
            <li>Mettre √† l'abri les donn√©es sensibles tel que la cl√© API</li>
            <li>Pouvoir r√©gler la fr√©quence de r√©cup√©ration des donn√©es et √©conomis√© de l'argent.</li>
        </ul>
        <br>
        <p>Le backend est h√©berg√© sur le cloud de Google gr√¢ce √† l'offre "always free". Cela permet d'avoir un service gratuit si tant est que le site concern√© n'a pas plusieurs millers de visites par heures.</p>
        <p>Les donn√©es sont stock√©s en NoSql sur une offre gratuite de Google : Firebase.</p>
    </div>
</section>

</ProjectsLayout>
