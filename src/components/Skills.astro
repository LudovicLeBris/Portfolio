---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const hardSkills = await getCollection("hardskills");
const softSkills = await getCollection("softskills");
const transversalSkills = await getCollection("transversalskills");
---

<section id="skills" class="flex flex-col items-center gap-2 p-8  dark:text-white">
    <div>
        <h2 class="text-3xl md:text-4xl font-bold text-center py-1">
            Comp&eacute;tences techniques
        </h2>
        <div
            class="grid gap-2 sm:gap-4 items-center place-items-center grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"
        >
            {
                hardSkills.map((hardSkill) => (
                    <>
                        <div class="p-1 text-center flex flex-col items-center gap-1">
                            <Image
                                src={hardSkill.data.logo}
                                alt={hardSkill.data.alt}
                                loading={"eager"}
                                class={"size-1/3 md:size-1/4"}
                            />
                            <p>{hardSkill.data.name}</p>
                        </div>
                    </>
                ))
            }
        </div>
    </div>
    <div class="w-full">
        <h2 class="text-3xl md:text-4xl font-bold text-center py-1">
            Qualit&eacute;s personnelles
        </h2>
        <div class="py-2">
            <ul class="text-center">
                {
                    softSkills[0].data.map((softSkill) => (
                        <>
                            <li class="py-1 text-lg font-semibold odd:bg-gradient-to-r from-slate-100 to-slate-100 via-bg-light-variant dark:from-bg-dark dark:to-bg-dark dark:via-bg-dark-variant">
                                {softSkill}
                            </li>
                        </>
                    ))
                }
            </ul>
        </div>
    </div>
    <div class="w-full">
        <h2 class="text-3xl md:text-4xl font-bold text-center py-1">
            Comp&eacute;tences transverses
        </h2>
        <div class="py-2 flex flex-col md:flex-row justify-center items-center gap-2">
            {
                transversalSkills.map((transversalSkillFamily) => (
                    <>
                        <div class="size-1/2">
                            <h3 class="text-2xl md:text-3xl font-semibold text-center py-2">
                                {transversalSkillFamily.id}
                            </h3>
                            <div class="grid sm:grid-cols-2 xl:grid-cols-3 place-items-center">
                                {transversalSkillFamily.data.map(
                                    (transversalSkill) => (
                                        <div class="flex flex-col items-center gap-1 p-2">
                                            <Image
                                                src={transversalSkill.logo}
                                                alt={transversalSkill.alt}
                                                class={'size-1/2'}
                                            />
                                            <p>{transversalSkill.name}</p>
                                        </div>
                                    ),
                                )}
                            </div>
                        </div>
                    </>
                ))
            }
        </div>
    </div>
</section>
